apply plugin: 'groovy'

repositories {
    mavenCentral()
    jcenter()
    maven { url 'http://repo.jenkins-ci.org/releases/' }
}

dependencies {
    compile 'org.codehaus.groovy:groovy:2.1.3'
    compile 'org.jenkins-ci.plugins:job-dsl-core:1.48'
    testCompile('org.spockframework:spock-core:0.7-groovy-2.0') {
        exclude module: 'groovy-all'
    }

    compile('ant:ant:1.7.0')
    compile('org.codehaus.groovy.modules.http-builder:http-builder:0.7.2') {
        exclude(module: 'groovy')
    }
}

task xml(type: JavaExec, dependsOn: 'classes') {
    main = 'javaposse.jobdsl.Run'
    classpath sourceSets.main.runtimeClasspath
    workingDir outputDir
    args "${projectDir}/${source}"
}

task wrapper(type: Wrapper) {
    gradleVersion = '2.5'
}
